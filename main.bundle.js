(()=>{"use strict";var e,t=function(){var e=document.createElement("div");return e.className="app",e}(),a=((e=document.createElement("textarea")).className="use-keyboard-input",e.setAttribute("placeholder","Virtual keyboard"),e),r=function(){var e=document.createElement("div");return e.className="keyboard",e}(),n=function(){var e=document.createElement("div");e.className="footer";var t=new DocumentFragment,a=document.createElement("div");a.className="descriptions",a.textContent="Keyboard created in the Windows operating system";var r=document.createElement("div");return r.className="descriptions",r.textContent="To switch the language press left:  ctrl + alt",t.append(a,r),e.append(t),e}(),c=[["`","~","`","~"],["1","!","1","!"],["2","@","2","@"],["3","#","3","#"],["4","$","4","$"],["5","%","5","%"],["6","^","6","^"],["7","&","7","&"],["8","*","8","*"],["9","(","9","("],["0",")","0",")"],["-","_","-","_"],["=","+","=","+"],["Back space","Back space","Back space","Back space"],["Tab","Tab","Tab","Tab"],["q","Q","й","Й"],["w","W","ц","Ц"],["e","E","у","У"],["r","R","к","К"],["t","T","е","Е"],["y","Y","н","Н"],["u","U","г","Г"],["i","I","ш","Ш"],["o","O","щ","Щ"],["p","P","з","З"],["[","{","х","Х"],["]","}","ъ","Ъ"],["Del","Del","Del","Del"],["Caps Lock","Caps Lock","Caps Lock","Caps Lock"],["a","A","ф","Ф"],["s","S","ы","Ы"],["d","D","в","В"],["f","F","а","А"],["g","G","п","П"],["h","H","р","Р"],["j","J","о","О"],["k","K","л","Л"],["l","L","д","Д"],[";",":","ж","Ж"],["'",'"',"э","Э"],["\\","|","\\","/"],["Enter","Enter","Enter","Enter"],[" Shift "," Shift "," Shift "," Shift "],["z","Z","я","Я"],["x","X","ч","Ч"],["c","C","с","С"],["v","V","м","М"],["b","B","и","И"],["n","N","т","Т"],["m","M","ь","Ь"],[",","<","б","Б"],[".",">","ю","Ю"],["/","?",".",","],["&#9650","&#9650","&#9650","&#9650"],["Shift","Shift","Shift","Shift"],[" Ctrl "," Ctrl "," Ctrl "," Ctrl "],["Win","Win","Win","Win"],[" Alt "," Alt "," Alt "," Alt "],[" "," "," "," "],["Alt","Alt","Alt","Alt"],["Ctrl","Ctrl","Ctrl","Ctrl"],["&#9668","&#9668","&#9668","&#9668"],["&#9660","&#9660","&#9660","&#9660"],["&#9658","&#9658","&#9658","&#9658"]],s=function(e){var t=document.createElement("button");return t.className="keyboard__key",t.setAttribute("type","button"),t.innerHTML=e,t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var l=function(e,t){var a,r=new DocumentFragment;Array.isArray(t)?r.append.apply(r,function(e){if(Array.isArray(e))return i(e)}(a=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):r.append(t),e.append(r)},o=function(e,t){var a=document.createElement("div");a.className="keyboard__keys";var r=[],n=["Back space","Del","Enter","Shift"],c=["Back space","Tab","Del","Caps Lock","Enter"," Shift ","Shift","Ctrl"," Ctrl ","Win","Alt"," Alt ","&#9650","&#9660","&#9668","&#9658"];e.forEach((function(e){if(c.some((function(a){return a===e[t]}))){var i=s(e[t]);i.classList.add("keyboard__key--wide"),c.some((function(a){return a===e[t]})),i.setAttribute("data-name",e[t]),r.push(i)}else if(" "===e[t]){var o=s(e[t]);o.classList.add("keyboard__key--extra-wide"),o.setAttribute("data-name",e[t]),r.push(o)}else{var u=s(e[t]);u.setAttribute("data-name",e[t]),r.push(u)}if(n.some((function(a){return a===e[t]}))){var b=document.createElement("div");b.className="keyboard__line",l(b,r),l(a,b),r=[]}}));var i=document.createElement("div");return i.className="keyboard__line",l(i,r),l(a,i),a},u=function(e){Array.isArray(e)?e.forEach((function(e){e.remove()})):e.remove(e)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"permanent-pressed",a=document.querySelector('[data-name="'.concat(e,'"]'));a.classList.add(t)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"permanent-pressed",a=document.querySelector('[data-name="'.concat(e,'"]'));a.classList.remove(t)},d=function(e,t){var a=e.value,r=e.selectionStart,n=a.slice(0,r),c=a.slice(r,a.length);e.value=n+t+c,e.setSelectionRange(r+1,r+1)},f={lang:"en",number:0,leftShift:0,rightShift:0};if(null===window.localStorage.getItem("lang")&&null===window.localStorage.getItem("number")){var k=f.lang,h=f.number;window.localStorage.setItem("lang",k),window.localStorage.setItem("number",h)}else f.lang=window.localStorage.getItem("lang"),f.number=+window.localStorage.getItem("number");l(document.body,t),l(document.body,t),l(t,[a,r,n]);var S=o(c,f.number);l(r,S),document.body.addEventListener("keypress",(function(e){e.keyCode&&(a.focus(),document.querySelector('[data-name="'.concat(e.key,'"]')).classList.add("virtual__key--pressed"),setTimeout((function(){document.querySelector('[data-name="'.concat(e.key,'"]')).classList.remove("virtual__key--pressed")}),400))})),document.body.addEventListener("keydown",(function(e){var t=e.code;if(("ControlLeft"===e.code||"AltLeft"===e.code)&&e.altKey&&e.ctrlKey){switch(f.lang="en"===f.lang?"ru":"en",f.number){case 0:f.number=2;break;case 2:f.number=0;break;case 1:f.number=3;break;case 3:f.number=1}u(S),S=o(c,f.number),l(r,S),document.querySelector('[data-name="Shift"]'),1==f.rightShift&&document.querySelector('[data-name="Shift"]').classList.add("virtual__key--permanent-pressed"),1==f.leftShift&&document.querySelector('[data-name=" Shift "]').classList.add("virtual__key--permanent-pressed");var a=f.lang,n=f.number;window.localStorage.setItem("lang",a),window.localStorage.setItem("number",n)}switch(t){case"ShiftLeft":if(1===f.leftShift)break;if(1===f.rightShift)break;switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}f.leftShift=1,u(S),S=o(c,f.number),l(r,S),b(" Shift ");break;case"ShiftRight":if(1===f.rightShift)break;if(1===f.leftShift)break;switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}f.rightShift=1,u(S),S=o(c,f.number),l(r,S),b("Shift");break;case"CapsLock":switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}u(S),S=o(c,f.number),l(r,S),b("Caps Lock");break;case"ControlLeft":b(" Ctrl ");break;case"ControlRight":b("Ctrl");break;case"Tab":b("Tab");break;case"AltLeft":b(" Alt ");break;case"AltRight":b("Alt");break;case"Backspace":b("Back space");break;case"Delete":b("Del");break;case"Enter":b("Enter")}})),document.body.addEventListener("keyup",(function(e){switch(e.code){case"ShiftLeft":switch(f.leftShift=0,f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}u(S),S=o(c,f.number),l(r,S);break;case"ShiftRight":switch(f.rightShift=0,f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}u(S),S=o(c,f.number),l(r,S);break;case"CapsLock":m("Caps Lock");break;case"ControlLeft":m(" Ctrl ");break;case"ControlRight":m("Ctrl");break;case"Tab":m("Tab");break;case"AltLeft":m(" Alt ");break;case"AltRight":m("Alt");break;case"Backspace":m("Back space");break;case"Delete":m("Del");break;case"Enter":m("Enter")}})),r.addEventListener("click",(function(e){var t=e.target.dataset.name;if("BUTTON"===e.target.tagName){switch(t){case" Shift ":switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}f.leftShift=1===f.leftShift?0:1,1===f.leftShift&&(f.rightShift=0),u(S),S=o(c,f.number),l(r,S),1===f.leftShift&&document.querySelector('[data-name=" Shift "]').classList.add("virtual__key--permanent-pressed");break;case"Shift":switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}f.rightShift=1===f.rightShift?0:1,1===f.rightShift&&(f.leftShift=0),u(S),S=o(c,f.number),l(r,S),1===f.rightShift&&document.querySelector('[data-name="Shift"]').classList.add("virtual__key--permanent-pressed");break;case"Caps Lock":switch(f.number){case 0:f.number=1;break;case 1:f.number=0;break;case 2:f.number=3;break;case 3:f.number=2}u(S),S=o(c,f.number),l(r,S),1===f.leftShift&&document.querySelector('[data-name=" Shift "]').classList.add("virtual__key--permanent-pressed"),1===f.rightShift&&document.querySelector('[data-name="Shift"]').classList.add("virtual__key--permanent-pressed");break;case"Tab":d(a,t="\t");break;case"Enter":d(a,t="\r\n");break;case"&#9668":a.selectionStart>0&&a.setSelectionRange(a.selectionStart-1,a.selectionStart-1);break;case"&#9658":a.setSelectionRange(a.selectionStart+1,a.selectionStart+1);break;case"&#9650":d(a,"▲");break;case"&#9660":d(a,"▼");break;case"Back space":var n=a.value,s=a.selectionStart,i=a.selectionEnd,b=n.slice(0,s),m=n.slice(i,n.length);s===i?(b=b.slice(0,b.length-1),a.value=b+m,a.setSelectionRange(s-1,s-1)):(a.value=b+m,a.setSelectionRange(s,s)),a.setSelectionRange(s-1,s-1);break;case"Del":var k=a.value,h=a.selectionStart,p=a.selectionEnd,g=k.slice(0,h),y=k.slice(p,k.length);h===p?(y=y.slice(1,y.length),a.value=g+y):a.value=g+y,a.setSelectionRange(h,h);break;case" Alt ":case"Alt":case"Win":case" Ctrl ":case"Ctrl":break;default:d(a,t)}a.focus()}else a.focus()}))})();
//# sourceMappingURL=main.bundle.js.map